//==============================================================================================================================================
//
// ボス移動ポイント処理
// Author : Atsumu Kuboichi
//
//==============================================================================================================================================

//===========================================================================================================
// ヘッダーインクルード
//===========================================================================================================
#include "ballmovepoint.h"

//===========================================================================================================
// 静的メンバ変数初期化
//===========================================================================================================
std::vector<CBallMovePoint*> CBallMovePoint::m_BallMovePoint;//全ポイントの情報
int CBallMovePoint::m_nAll = 0;//合計数

//===========================================================================================================
// コンストラクタ
//===========================================================================================================
CBallMovePoint::CBallMovePoint() : CGimmick()
{
	//インデックスを設定
	m_nIdx = m_nAll;

	//合計数を加算
	m_nAll++;

	//自分自身の情報を設定
	m_BallMovePoint.push_back(this);
}

//===========================================================================================================
// デストラクタ
//===========================================================================================================
CBallMovePoint::~CBallMovePoint()
{
	//合計数を減算
	m_nAll--;
}

//===========================================================================================================
// 初期化処理
//===========================================================================================================
HRESULT CBallMovePoint::Init()
{
	//ギミック初期化処理
	if (FAILED(CGimmick::Init()))
	{
		return E_FAIL;
	}

	return S_OK;
}

//===========================================================================================================
// 終了処理
//===========================================================================================================
void CBallMovePoint::Uninit()
{
	//ギミック終了処理
	CGimmick::Uninit();
}

//===========================================================================================================
// 解放処理
//===========================================================================================================
void CBallMovePoint::Release()
{
	//ポインタをnullptrにする
	m_BallMovePoint.front() = nullptr;

	//先頭の要素を削除
	m_BallMovePoint.erase(m_BallMovePoint.begin());

	//ギミック解放処理
	CGimmick::Release();
}

//===========================================================================================================
// 更新処理
//===========================================================================================================
void CBallMovePoint::Update()
{
	//ギミック更新処理
	CGimmick::Update();
}

//===========================================================================================================
// 描画処理
//===========================================================================================================
void CBallMovePoint::Draw()
{
}

//===========================================================================================================
// 検索処理
//===========================================================================================================
CBallMovePoint* CBallMovePoint::Find(int nIdx)
{
	//要素数を取得
	int nSize = m_BallMovePoint.size();

	for (int nCnt = 0; nCnt < nSize; nCnt++)
	{
		//指定されたインデックスと一致した場合
		if (m_BallMovePoint.at(nCnt)->m_nIdx == nIdx)
		{
			return m_BallMovePoint.at(nCnt);
		}
	}

	return nullptr;
}
